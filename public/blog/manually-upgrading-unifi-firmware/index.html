<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<script defer data-domain="carlobloks.com" src="https://plausible.io/js/plausible.js"></script>

<title>Manually upgrading Unifi firmware | Carlo Bloks ðŸ˜Ž</title>

<meta name="keywords" content="unifi, tips" />
<meta name="description" content="Manually upgrading Unifi firmware if it does not work via the controller">
<meta name="author" content="">
<link rel="canonical" href="https://www.carlobloks.com/blog/manually-upgrading-unifi-firmware/" />
<link href="https://www.carlobloks.com/assets/css/stylesheet.min.8d69a44b0d17109bf0038fce2a3b5a46eee27c0659c1f1fa3f25fdb9b3aa78b2.css" integrity="sha256-jWmkSw0XEJvwA4/OKjtaRu7ifAZZwfH6PyX9ubOqeLI=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://www.carlobloks.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.carlobloks.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.carlobloks.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.carlobloks.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.carlobloks.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.79.0" />



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-191704601-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta property="og:title" content="Manually upgrading Unifi firmware" />
<meta property="og:description" content="Manually upgrading Unifi firmware if it does not work via the controller" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.carlobloks.com/blog/manually-upgrading-unifi-firmware/" />
<meta property="og:image" content="https://www.carlobloks.com/opengraph.png"/>
<meta property="article:published_time" content="2021-03-02T12:45:00+02:00" />
<meta property="article:modified_time" content="2021-03-02T12:45:00+02:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.carlobloks.com/opengraph.png"/>

<meta name="twitter:title" content="Manually upgrading Unifi firmware"/>
<meta name="twitter:description" content="Manually upgrading Unifi firmware if it does not work via the controller"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Manually upgrading Unifi firmware",
  "name": "Manually upgrading Unifi firmware",
  "description": "So you might have tried upgrading your Unifi devices via the controller and for some reason it did not work. Usually this means that the download of the firmware-file failed and â€¦",
  "keywords": [
    "unifi", "tips"
  ],
  "articleBody": "So you might have tried upgrading your Unifi devices via the controller and for some reason it did not work. Usually this means that the download of the firmware-file failed and chances are big this happens for one of your Switches. In my usecase I am manually upgrading the US-8-60W.\nFirst you download the latest .bin-file from the Downloads page. Make sure to put it in the Downloads-folder on your Macbook in order to follow the steps I have specified below, else you need aadjust accordingly.\nOpen the Terminal app and add the following command:\nscp /Users/{macbook-username}]/Downloads/{bin-file} {unifi_ssh_username}@{ip-address_device}:/tmp/fwupdate.bin\nAdjusted for my details it looks like this:\nscp /Users/giancarlobloks/Downloads/US.bcm5334x_5.43.23+12533.201223.0319.bin carlobloks@10.0.1.2:/tmp/fwupdate.bin\nIf this is the first time establishing an ssh connection to the device it will ask you if you want to continue connecting. Type â€˜yesâ€™ and press Enter.\nAdd the password.\nIf you donâ€™t remember the username/password to ssh into your devices you can check them in your controller. Go to Settings  System Settings  Controller Configuration  Device SSH Authentication. If you did not set it up yet you can do so now.\nThe Terminal will show you the progress of uploading the .bin-file to /tmp/fwupdate.bin which for me took about 20 seconds.\nAfter the file is uploaded you now need to ssh into the device and execute the upgrade command:\nssh carlobloks@10.0.1.2\nAdd password. (this is the same user/password you used before to upload the file). Then:\nsyswrapper.sh upgrade2 \u0026\nYou will see the progress again and in total just give it 5 minutes and reload the controller to verify the upgraded firmware version.\nThatâ€™s it.\n",
  "wordCount" : "268",
  "inLanguage": "en",
  "datePublished": "2021-03-02T12:45:00+02:00",
  "dateModified": "2021-03-02T12:45:00+02:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.carlobloks.com/blog/manually-upgrading-unifi-firmware/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Carlo Bloks ðŸ˜Ž",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.carlobloks.com/favicon.ico"
    }
  }
}
</script>



</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.carlobloks.com/" accesskey="h" title="Carlo Bloks ðŸ˜Ž (Alt + H)">Carlo Bloks
            </a>
            <span class="logo-switches">
                <span class="theme-toggle" title="(Alt + T)">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://www.carlobloks.com/about/" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
            <li>
                <a href="https://www.carlobloks.com/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://www.carlobloks.com/blog/booklist-2021/" title="Booklist">
                    <span>Booklist</span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Manually upgrading Unifi firmware
    </h1>
    <div class="post-meta">March 2, 2021

    </div>
  </header> 

  <div class="post-content">
<p>So you might have tried upgrading your Unifi devices via the controller and for some reason it did not work. Usually this means that the download of the firmware-file failed and chances are big this happens for one of your Switches. In my usecase I am manually upgrading the US-8-60W.</p>
<p>First you download the latest <code>.bin</code>-file from the <a href="https://www.ui.com/download/unifi-switching-routing/unifi-switch-8-60w">Downloads</a> page. Make sure to put it in the Downloads-folder on your Macbook in order to follow the steps I have specified below, else you need aadjust accordingly.</p>
<p>Open the Terminal app and add the following command:</p>
<p><code>scp /Users/{macbook-username}]/Downloads/{bin-file} {unifi_ssh_username}@{ip-address_device}:/tmp/fwupdate.bin</code></p>
<p>Adjusted for my details it looks like this:</p>
<p><code>scp /Users/giancarlobloks/Downloads/US.bcm5334x_5.43.23+12533.201223.0319.bin carlobloks@10.0.1.2:/tmp/fwupdate.bin</code></p>
<p>If this is the first time establishing an ssh connection to the device it will ask you if you want to continue connecting. Type &lsquo;yes&rsquo; and press Enter.</p>
<p>Add the password.</p>
<p>If you don&rsquo;t remember the username/password to ssh into your devices you can check them in your controller. Go to Settings &gt; System Settings &gt; Controller Configuration &gt; Device SSH Authentication. If you did not set it up yet you can do so now.</p>
<p>The Terminal will show you the progress of uploading the <code>.bin</code>-file to <code>/tmp/fwupdate.bin</code> which for me took about 20 seconds.</p>
<p>After the file is uploaded you now need to ssh into the device and execute the upgrade command:</p>
<p><code>ssh carlobloks@10.0.1.2</code></p>
<p>Add password. (this is the same user/password you used before to upload the file). Then:</p>
<p><code>syswrapper.sh upgrade2 &amp;</code></p>
<p>You will see the progress again and in total just give it 5 minutes and reload the controller to verify the upgraded firmware version.</p>
<p>That&rsquo;s it.</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.carlobloks.com/tags/unifi/">unifi</a></li>
      <li><a href="https://www.carlobloks.com/tags/tips/">tips</a></li>
    </ul>
  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; KeyPiece 1986 - 2021 - KvK: 62455737</span>
    <span>|</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> and deployed by <a href="https://www.netlify.com/" rel="noopener noreferrer" target="_blank">Netlify</a></span>
    <span>ðŸš€</span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script defer src="https://www.carlobloks.com/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                behavior: "smooth"
            });
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.replaceState(null, null, `#${id}`);
            }
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
